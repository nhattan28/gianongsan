<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <title>Dự báo thời tiết Đà Nẵng</title>
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      background: linear-gradient(135deg, #89f7fe 0%, #66a6ff 100%);
      color: #333;
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: 2rem;
      height: 100vh;
      margin: 0;
    }
    .weather-box {
      background: white;
      border-radius: 16px;
      padding: 2rem;
      box-shadow: 0 4px 10px rgba(0,0,0,0.2);
      max-width: 400px;
      text-align: center;
      animation: fadeIn 1s ease;
    }
    h1 {
      margin-bottom: 1rem;
    }
    .emoji {
      font-size: 2rem;
      margin-right: 0.5rem;
    }
    .time {
      margin-top: 1rem;
      font-size: 0.9rem;
      color: #666;
    }
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }
  </style>
</head>
<body>
  <div class="weather-box" id="weather">
    <h1>🌤 Dự báo thời tiết Đà Nẵng</h1>
    <p id="temp">🌡 Nhiệt độ: ...</p>
    <p id="desc">☁️ Thời tiết: ...</p>
    <p id="humidity">💧 Độ ẩm: ...</p>
    <p id="wind">🌬 Gió: ...</p>
    <p class="time" id="update-time">⏳ Đang cập nhật...</p>
  </div>

  <script>
    async function fetchWeather() {
      try {
        const response = await fetch("https://api.openweathermap.org/data/2.5/weather?q=Đà Nẵng&appid=3096df9a74a4a595cdf8f898c3a19f40&units=metric&lang=vi");
        const data = await response.json();

        document.getElementById('temp').innerText = `🌡 Nhiệt độ: ${Math.round(data.main.temp)}°C`;
        document.getElementById('desc').innerText = `☁️ Thời tiết: ${data.weather[0].description}`;
        document.getElementById('humidity').innerText = `💧 Độ ẩm: ${data.main.humidity}%`;
        document.getElementById('wind').innerText = `🌬 Gió: ${data.wind.speed} m/s`;

        const now = new Date();
        document.getElementById('update-time').innerText = `🕒 Cập nhật lúc: ${now.toLocaleTimeString('vi-VN')}`;
      } catch (error) {
        document.getElementById('weather').innerText = '😢 Lỗi khi lấy dữ liệu thời tiết!';
        console.error(error);
      }
    }

    // Gọi lần đầu khi trang load
    fetchWeather();

    // Tự động gọi lại mỗi 10 phút (600000ms)
    setInterval(fetchWeather, 600000);
  </script>
</body>
</html>
